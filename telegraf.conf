# Global agent settings
[agent]
  interval = "10s"
  flush_interval = "10s"

# OUTPUT: This tells Telegraf where to send the data.
[[outputs.postgresql]]
  # Connect to the TimescaleDB Docker container you created
  connection = "host=localhost user=postgres password=MySecretPwd123! dbname=postgres sslmode=disable"

# INPUT 1: Collect CPU metrics from your computer
[[inputs.cpu]]
  percpu = true
  totalcpu = true
  collect_cpu_time = false
  report_active = false

# INPUT 2: Collect Memory metrics from your computer
[[inputs.mem]]

# INPUT 3: Check if your Node.js web app is responding
[[inputs.http_response]]
  urls = ["http://localhost:3000"]
  response_timeout = "5s"
  method = "GET"